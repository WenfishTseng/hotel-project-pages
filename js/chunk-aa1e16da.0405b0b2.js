(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-aa1e16da"],{"00b4":function(e,t,n){"use strict";n("ac1f");var a=n("23e7"),r=n("da84"),c=n("c65b"),o=n("e330"),l=n("1626"),s=n("861d"),i=function(){var e=!1,t=/[ac]/;return t.exec=function(){return e=!0,/./.exec.apply(this,arguments)},!0===t.test("abc")&&e}(),d=r.Error,u=o(/./.test);a({target:"RegExp",proto:!0,forced:!i},{test:function(e){var t=this.exec;if(!l(t))return u(this,e);var n=c(t,this,e);if(null!==n&&!s(n))throw new d("RegExp exec method returned something other than an Object or null");return!!n}})},"0b42":function(e,t,n){var a=n("da84"),r=n("e8b5"),c=n("68ee"),o=n("861d"),l=n("b622"),s=l("species"),i=a.Array;e.exports=function(e){var t;return r(e)&&(t=e.constructor,c(t)&&(t===i||r(t.prototype))?t=void 0:o(t)&&(t=t[s],null===t&&(t=void 0))),void 0===t?i:t}},"107c":function(e,t,n){var a=n("d039"),r=n("da84"),c=r.RegExp;e.exports=a((function(){var e=c("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},"1dde":function(e,t,n){var a=n("d039"),r=n("b622"),c=n("2d00"),o=r("species");e.exports=function(e){return c>=51||!a((function(){var t=[],n=t.constructor={};return n[o]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},4558:function(e,t,n){"use strict";n.r(t);n("b0c0"),n("b64b");var a=n("7a23"),r={class:"container mt-3"},c={class:"text-end"},o={class:"table align-middle"},l=Object(a["createElementVNode"])("thead",null,[Object(a["createElementVNode"])("tr",null,[Object(a["createElementVNode"])("th",null,"品名"),Object(a["createElementVNode"])("th",{style:{width:"150px"}},"數量/單位"),Object(a["createElementVNode"])("th",{class:"text-end"},"單價")])],-1),s=Object(a["createElementVNode"])("div",{class:"text-success"},"已套用優惠券",-1),i={class:"input-group input-group-sm"},d={class:"input-group mb-3"},u=["onUpdate:modelValue","onChange","disabled"],m=["value"],b={class:"input-group-text",id:"basic-addon2"},f={class:"text-end"},p={class:"ms-3 text-success"},v=Object(a["createElementVNode"])("td",{colspan:"3",class:"text-end"},"總計",-1),g={class:"text-end"},O={class:"container mt-3"},j={class:"mb-3"},x=Object(a["createElementVNode"])("label",{for:"email",class:"form-label"},"收件人信箱",-1),h={class:"mb-3"},V=Object(a["createElementVNode"])("label",{for:"name",class:"form-label"},"收件人姓名",-1),E={class:"mb-3"},N=Object(a["createElementVNode"])("label",{for:"tel",class:"form-label"},"收件人手機號碼",-1),y={class:"mb-3"},k=Object(a["createElementVNode"])("label",{for:"address",class:"form-label"},"收件人地址",-1),C={class:"mb-3"},I=Object(a["createElementVNode"])("label",{for:"message",class:"form-label"},"留言",-1),w={class:"text-end"},S=["disabled"];function D(e,t,n,D,B,R){var A=Object(a["resolveComponent"])("Field"),F=Object(a["resolveComponent"])("error-message"),U=Object(a["resolveComponent"])("Form");return Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],null,[Object(a["createElementVNode"])("div",r,[Object(a["createElementVNode"])("div",c,[Object(a["createElementVNode"])("button",{class:"btn btn-outline-success",type:"button",onClick:t[0]||(t[0]=function(){return R.goBackPage&&R.goBackPage.apply(R,arguments)})}," 上一步 ")]),Object(a["createElementVNode"])("table",o,[l,Object(a["createElementVNode"])("tbody",null,[B.cartData.carts?(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],{key:0},Object(a["renderList"])(B.cartData.carts,(function(t){return Object(a["openBlock"])(),Object(a["createElementBlock"])("tr",{key:t.id},[Object(a["createElementVNode"])("td",null,[Object(a["createTextVNode"])(Object(a["toDisplayString"])(t.product.title)+" ",1),s]),Object(a["createElementVNode"])("td",null,[Object(a["createElementVNode"])("div",i,[Object(a["createElementVNode"])("div",d,[Object(a["withDirectives"])(Object(a["createElementVNode"])("select",{name:"cartNum",id:"cart",class:"form-selest","onUpdate:modelValue":function(e){return t.qty=e},onChange:function(e){return R.updateCart(t)},disabled:e.isCartLoadingItem===t.id},[(Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(20,(function(e){return Object(a["createElementVNode"])("option",{value:e,key:e+"cart"},Object(a["toDisplayString"])(e),9,m)})),64))],40,u),[[a["vModelSelect"],t.qty]]),Object(a["createElementVNode"])("span",b,Object(a["toDisplayString"])(t.product.unit),1)])])]),Object(a["createElementVNode"])("td",f,[Object(a["createElementVNode"])("small",null,Object(a["toDisplayString"])(t.product.origin_price),1),Object(a["createElementVNode"])("span",p,"折扣價： "+Object(a["toDisplayString"])(t.product.price),1)])])})),128)):Object(a["createCommentVNode"])("",!0)]),Object(a["createElementVNode"])("tfoot",null,[Object(a["createElementVNode"])("tr",null,[v,Object(a["createElementVNode"])("td",g,Object(a["toDisplayString"])(B.cartData.total),1)])])])]),Object(a["createElementVNode"])("div",O,[Object(a["createVNode"])(U,{ref:"form",onSubmit:R.onSubmit},{default:Object(a["withCtx"])((function(e){var n=e.errors;return[Object(a["createElementVNode"])("div",j,[x,Object(a["createVNode"])(A,{id:"email",name:"email",type:"email",class:Object(a["normalizeClass"])(["form-control",{"is-invalid":n["email"]}]),placeholder:"請輸入 Email",rules:"email|required",modelValue:B.form.user.email,"onUpdate:modelValue":t[1]||(t[1]=function(e){return B.form.user.email=e})},null,8,["class","modelValue"]),Object(a["createVNode"])(F,{name:"email",class:"invalid-feedback"})]),Object(a["createElementVNode"])("div",h,[V,Object(a["createVNode"])(A,{id:"name",name:"姓名",type:"text",class:Object(a["normalizeClass"])(["form-control",{"is-invalid":n["姓名"]}]),placeholder:"請輸入姓名",rules:"min:8||max:12||required",modelValue:B.form.user.name,"onUpdate:modelValue":t[2]||(t[2]=function(e){return B.form.user.name=e})},null,8,["class","modelValue"]),Object(a["createVNode"])(F,{name:"姓名",class:"invalid-feedback"})]),Object(a["createElementVNode"])("div",E,[N,Object(a["createVNode"])(A,{id:"tel",name:"電話",type:"tel",class:Object(a["normalizeClass"])(["form-control",{"is-invalid":n["電話"]}]),placeholder:"請輸入電話",modelValue:B.form.user.tel,"onUpdate:modelValue":t[3]||(t[3]=function(e){return B.form.user.tel=e}),rules:R.isFormPhone},null,8,["class","modelValue","rules"]),Object(a["createVNode"])(F,{name:"電話",class:"invalid-feedback"})]),Object(a["createElementVNode"])("div",y,[k,Object(a["createVNode"])(A,{id:"address",name:"地址",type:"text",class:Object(a["normalizeClass"])(["form-control",{"is-invalid":n["地址"]}]),placeholder:"請輸入地址",rules:"required",modelValue:B.form.user.address,"onUpdate:modelValue":t[4]||(t[4]=function(e){return B.form.user.address=e})},null,8,["class","modelValue"]),Object(a["createVNode"])(F,{name:"地址",class:"invalid-feedback"})]),Object(a["createElementVNode"])("div",C,[I,Object(a["withDirectives"])(Object(a["createElementVNode"])("textarea",{id:"message",class:"form-control",cols:"30",rows:"10","onUpdate:modelValue":t[5]||(t[5]=function(e){return B.form.message=e})},null,512),[[a["vModelText"],B.form.message]])]),Object(a["createElementVNode"])("div",w,[Object(a["createElementVNode"])("button",{type:"submit",class:"btn btn-danger",disabled:Object.keys(n).length>0||0===B.cartData.total}," 送出訂單 ",8,S)])]})),_:1},8,["onSubmit"])])],64)}n("99af"),n("ac1f"),n("00b4");var B=n("6be2"),R={data:function(){return{cartData:{},form:{user:{name:"",email:"",tel:"",address:""},message:""}}},methods:{getCarts:function(){var e=this;this.$http.get("".concat("https://vue3-course-api.hexschool.io/v2","/api/").concat("yuritatest","/cart")).then((function(t){e.cartData=t.data.data,B["a"].emit("get-cart")})).catch((function(e){alert(e)}))},updateCart:function(e){var t=this;this.isCartLoadingItem=e.id,this.$http.put("".concat("https://vue3-course-api.hexschool.io/v2","/api/").concat("yuritatest","/cart/").concat(e.id),{data:{product_id:e.id,qty:e.qty}}).then((function(e){t.getCarts(),t.isCartLoadingItem=""})).catch((function(e){alert(e.data)}))},isFormPhone:function(e){var t=/^(09)[0-9]{8}$/;return!!t.test(e)||"需要正確的電話號碼"},onSubmit:function(){var e=this,t=this.form;this.$http.post("".concat("https://vue3-course-api.hexschool.io/v2","/api/").concat("yuritatest","/order"),{data:t}).then((function(t){alert(t.data.message),e.$refs.form.resetForm(),e.getCarts(),e.$router.push("/products")})).catch((function(e){console.dir(e)}))},goBackPage:function(){this.$router.go(-1)}},created:function(){this.getCarts()}},A=n("6b0d"),F=n.n(A);const U=F()(R,[["render",D]]);t["default"]=U},"65f0":function(e,t,n){var a=n("0b42");e.exports=function(e,t){return new(a(e))(0===t?0:t)}},"6be2":function(e,t,n){"use strict";var a=function(e){return{all:e=e||new Map,on:function(t,n){var a=e.get(t);a?a.push(n):e.set(t,[n])},off:function(t,n){var a=e.get(t);a&&(n?a.splice(a.indexOf(n)>>>0,1):e.set(t,[]))},emit:function(t,n){var a=e.get(t);a&&a.slice().map((function(e){e(n)})),(a=e.get("*"))&&a.slice().map((function(e){e(t,n)}))}}},r=a();t["a"]=r},8418:function(e,t,n){"use strict";var a=n("a04b"),r=n("9bf2"),c=n("5c6c");e.exports=function(e,t,n){var o=a(t);o in e?r.f(e,o,c(0,n)):e[o]=n}},9263:function(e,t,n){"use strict";var a=n("c65b"),r=n("e330"),c=n("577e"),o=n("ad6d"),l=n("9f7f"),s=n("5692"),i=n("7c73"),d=n("69f3").get,u=n("fce3"),m=n("107c"),b=s("native-string-replace",String.prototype.replace),f=RegExp.prototype.exec,p=f,v=r("".charAt),g=r("".indexOf),O=r("".replace),j=r("".slice),x=function(){var e=/a/,t=/b*/g;return a(f,e,"a"),a(f,t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),h=l.BROKEN_CARET,V=void 0!==/()??/.exec("")[1],E=x||V||h||u||m;E&&(p=function(e){var t,n,r,l,s,u,m,E=this,N=d(E),y=c(e),k=N.raw;if(k)return k.lastIndex=E.lastIndex,t=a(p,k,y),E.lastIndex=k.lastIndex,t;var C=N.groups,I=h&&E.sticky,w=a(o,E),S=E.source,D=0,B=y;if(I&&(w=O(w,"y",""),-1===g(w,"g")&&(w+="g"),B=j(y,E.lastIndex),E.lastIndex>0&&(!E.multiline||E.multiline&&"\n"!==v(y,E.lastIndex-1))&&(S="(?: "+S+")",B=" "+B,D++),n=new RegExp("^(?:"+S+")",w)),V&&(n=new RegExp("^"+S+"$(?!\\s)",w)),x&&(r=E.lastIndex),l=a(f,I?n:E,B),I?l?(l.input=j(l.input,D),l[0]=j(l[0],D),l.index=E.lastIndex,E.lastIndex+=l[0].length):E.lastIndex=0:x&&l&&(E.lastIndex=E.global?l.index+l[0].length:r),V&&l&&l.length>1&&a(b,l[0],n,(function(){for(s=1;s<arguments.length-2;s++)void 0===arguments[s]&&(l[s]=void 0)})),l&&C)for(l.groups=u=i(null),s=0;s<C.length;s++)m=C[s],u[m[0]]=l[m[1]];return l}),e.exports=p},"99af":function(e,t,n){"use strict";var a=n("23e7"),r=n("da84"),c=n("d039"),o=n("e8b5"),l=n("861d"),s=n("7b0b"),i=n("07fa"),d=n("8418"),u=n("65f0"),m=n("1dde"),b=n("b622"),f=n("2d00"),p=b("isConcatSpreadable"),v=9007199254740991,g="Maximum allowed index exceeded",O=r.TypeError,j=f>=51||!c((function(){var e=[];return e[p]=!1,e.concat()[0]!==e})),x=m("concat"),h=function(e){if(!l(e))return!1;var t=e[p];return void 0!==t?!!t:o(e)},V=!j||!x;a({target:"Array",proto:!0,forced:V},{concat:function(e){var t,n,a,r,c,o=s(this),l=u(o,0),m=0;for(t=-1,a=arguments.length;t<a;t++)if(c=-1===t?o:arguments[t],h(c)){if(r=i(c),m+r>v)throw O(g);for(n=0;n<r;n++,m++)n in c&&d(l,m,c[n])}else{if(m>=v)throw O(g);d(l,m++,c)}return l.length=m,l}})},"9f7f":function(e,t,n){var a=n("d039"),r=n("da84"),c=r.RegExp,o=a((function(){var e=c("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),l=o||a((function(){return!c("a","y").sticky})),s=o||a((function(){var e=c("^r","gy");return e.lastIndex=2,null!=e.exec("str")}));e.exports={BROKEN_CARET:s,MISSED_STICKY:l,UNSUPPORTED_Y:o}},ac1f:function(e,t,n){"use strict";var a=n("23e7"),r=n("9263");a({target:"RegExp",proto:!0,forced:/./.exec!==r},{exec:r})},ad6d:function(e,t,n){"use strict";var a=n("825a");e.exports=function(){var e=a(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},b0c0:function(e,t,n){var a=n("83ab"),r=n("5e77").EXISTS,c=n("e330"),o=n("9bf2").f,l=Function.prototype,s=c(l.toString),i=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,d=c(i.exec),u="name";a&&!r&&o(l,u,{configurable:!0,get:function(){try{return d(i,s(this))[1]}catch(e){return""}}})},b64b:function(e,t,n){var a=n("23e7"),r=n("7b0b"),c=n("df75"),o=n("d039"),l=o((function(){c(1)}));a({target:"Object",stat:!0,forced:l},{keys:function(e){return c(r(e))}})},e8b5:function(e,t,n){var a=n("c6b6");e.exports=Array.isArray||function(e){return"Array"==a(e)}},fce3:function(e,t,n){var a=n("d039"),r=n("da84"),c=r.RegExp;e.exports=a((function(){var e=c(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))}}]);
//# sourceMappingURL=chunk-aa1e16da.0405b0b2.js.map